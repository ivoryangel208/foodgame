import random
import time

class Weed:
    def __init__(self, strain, thc, rarity, country, price):
        self.strain = strain
        self.thc = thc
        self.rarity = rarity
        self.country = country
        self.price = price
        self.weight = 0  # Weight in grams
    
    def grow(self, amount):
        self.weight += amount
        print(f"You've grown {amount}g of {self.strain} ({self.thc}% THC) from {self.country}. Rarity: {self.rarity}.")
    
    def get_details(self):
        return f"{self.strain} - {self.thc}% THC, Country: {self.country}, Rarity: {self.rarity}, Price: ${self.price} per gram"

class Product:
    def __init__(self, strain, type, weight):
        self.strain = strain
        self.type = type  # Can be 'joint' or 'edible'
        self.weight = weight
        self.thc = strain.thc
        self.price = strain.price * weight

    def get_details(self):
        return f"{self.type.capitalize()} made from {self.strain.strain} ({self.thc}% THC). Weight: {self.weight}g. Price: ${self.price}"

class Compound:
    def __init__(self, name="My Compound"):
        self.name = name
        self.weeds = []
        self.products = []
        self.money = 100  # Starting money
        self.inventory_space = 10
        self.achievements = []

    def add_weed(self, weed):
        if len(self.weeds) < self.inventory_space:
            self.weeds.append(weed)
            print(f"Added {weed.strain} to your weed inventory.")
        else:
            print("Your inventory is full. Consider selling or using your weed.")

    def grow_weed(self):
        for weed in self.weeds:
            growth_amount = random.randint(1, 3)  # Grow between 1 and 3 grams of each weed
            weed.grow(growth_amount)
    
    def create_product(self, strain, type, weight):
        if type == 'edible' and weight == 0.05:  # Each edible is 50mg (0.05g)
            product = Product(strain, type, weight)
            self.products.append(product)
            print(f"Created an edible: {product.get_details()}")
        elif type == 'joint' and weight == 1:  # Each joint is 1 gram
            product = Product(strain, type, weight)
            self.products.append(product)
            print(f"Created a joint: {product.get_details()}")

    def sell_product(self, product):
        self.money += product.price
        self.products.remove(product)
        print(f"Sold {product.get_details()} for ${product.price}. Current balance: ${self.money}")

    def show_inventory(self):
        print("\nWeed Inventory:")
        for weed in self.weeds:
            print(f"  - {weed.get_details()}")
        print("\nProduct Inventory:")
        for product in self.products:
            print(f"  - {product.get_details()}")
    
    def show_achievements(self):
        if not self.achievements:
            print("No achievements unlocked yet.")
        else:
            print("\nAchievements:")
            for achievement in self.achievements:
                print(f"  - {achievement}")
    
    def unlock_achievement(self, achievement):
        if achievement not in self.achievements:
            self.achievements.append(achievement)
            print(f"Achievement unlocked: {achievement}")
    
    def travel(self, location):
        weather = random.choice(['Sunny', 'Rainy', 'Cloudy'])
        print(f"Traveling to {location}... The weather is {weather}.")
        return weather

# Sample strain data
strains = [
    Weed("OG Kush", 20, "Common", "USA", 10),
    Weed("Blue Dream", 22, "Rare", "USA", 15),
    Weed("Pineapple Express", 25, "Legendary", "Hawaii", 20),
    Weed("Gelato", 28, "Rare", "Italy", 18),
    Weed("Granddaddy Purple", 30, "Rare", "USA", 22),
    Weed("Super Lemon Haze", 35, "Legendary", "Netherlands", 25)
]

# Create a compound and start playing
player_compound = Compound(name="Green Haven")

# Add some weeds to the inventory
player_compound.add_weed(strains[0])
player_compound.add_weed(strains[2])

# Example gameplay loop
while player_compound.money > 0:
    print("\n------------------------------")
    print(f"Welcome to {player_compound.name}. Current balance: ${player_compound.money}")
    print("1. Grow weed")
    print("2. Create product (Edible or Joint)")
    print("3. Show Inventory")
    print("4. Sell product")
    print("5. Travel")
    print("6. View Achievements")
    print("0. Quit game")
    
    choice = input("Enter your choice: ")
    
    if choice == "1":
        player_compound.grow_weed()
    elif choice == "2":
        product_type = input("Enter product type (edible/joint): ").lower()
        weight = float(input("Enter product weight (edible: 0.05g, joint: 1g): "))
        strain_choice = int(input(f"Choose strain:\n0. {strains[0].get_details()}\n1. {strains[1].get_details()}\n2. {strains[2].get_details()}\n3. {strains[3].get_details()}\n4. {strains[4].get_details()}\n5. {strains[5].get_details()}\n"))
        player_compound.create_product(strains[strain_choice], product_type, weight)
    elif choice == "3":
        player_compound.show_inventory()
    elif choice == "4":
        product_to_sell = int(input("Choose product to sell: "))
        player_compound.sell_product(player_compound.products[product_to_sell])
    elif choice == "5":
        location = input("Enter location to travel to: ")
        weather = player_compound.travel(location)
    elif choice == "6":
        player_compound.show_achievements()
    elif choice == "0":
        print("Thanks for playing!")
        break
    else:
        print("Invalid choice. Try again.")

    time.sleep(1)

